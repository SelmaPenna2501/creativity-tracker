<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>75 Hard for Creativity</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 120, 120, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(120, 120, 120, 0.1) 0%, transparent 50%),
                linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0a0a0a 100%);
            color: #ffffff;
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 2px,
                    rgba(255, 255, 255, 0.01) 2px,
                    rgba(255, 255, 255, 0.01) 4px
                );
            pointer-events: none;
            z-index: -1;
        }
        
        .container {
            max-width: 400px;
            margin: 0 auto;
            background: 
                linear-gradient(135deg, #000000 0%, #111111 100%);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 
                0 0 30px rgba(0,0,0,0.8),
                inset 0 1px 0 rgba(255,255,255,0.1),
                inset 0 -1px 0 rgba(0,0,0,0.5);
            border: 1px solid #333;
            position: relative;
            overflow: hidden;
        }
        
        .container::before {
            content: '◊';
            position: absolute;
            top: 15px;
            left: 15px;
            font-size: 12px;
            color: #444;
            opacity: 0.7;
        }
        
        .container::after {
            content: '◊';
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 12px;
            color: #444;
            opacity: 0.7;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }
        
        .title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 5px;
            color: #ffffff;
            text-shadow: 
                0 0 10px rgba(255,255,255,0.3),
                0 2px 0 rgba(0,0,0,0.8);
            letter-spacing: 2px;
        }
        
        .subtitle {
            font-size: 16px;
            color: #888;
            margin-bottom: 15px;
            font-style: italic;
            letter-spacing: 1px;
        }
        
        .day-counter {
            background: 
                linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 25px;
            border: 1px solid #333;
            box-shadow: 
                inset 0 2px 4px rgba(0,0,0,0.5),
                0 1px 0 rgba(255,255,255,0.1);
            position: relative;
        }
        
        .day-counter::before {
            content: '▲';
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 8px;
            color: #555;
        }
        
        .day-number {
            font-size: 24px;
            font-weight: bold;
            color: #ffffff;
            text-shadow: 0 0 5px rgba(255,255,255,0.3);
            letter-spacing: 1px;
        }
        
        .overall-progress-bar {
            width: 100%;
            height: 8px;
            background: #222;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
            border: 1px solid #333;
        }
        
        .overall-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b 0%, #ffd93d 50%, #6bcf7f 100%);
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(255,107,107,0.3);
        }
        
        .overall-progress-text {
            font-size: 12px;
            color: #aaa;
            text-align: center;
            margin-top: 5px;
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #333;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4a8f4a 0%, #6ab46a 100%);
            transition: width 0.3s ease;
        }
        
        .progress-text {
            text-align: center;
            color: #888;
            font-size: 14px;
            margin-bottom: 20px;
        }
        
        .history-toggle {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .history-btn {
            background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%);
            color: #aaa;
            border: 1px solid #333;
            border-radius: 6px;
            padding: 8px 16px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Courier New', monospace;
            letter-spacing: 0.5px;
        }
        
        .history-btn:hover {
            background: linear-gradient(135deg, #3a3a3a 0%, #2a2a2a 100%);
            color: #ccc;
        }
        
        .progress-history {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: none;
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }
        
        .progress-history.show {
            display: block;
        }
        
        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #333;
        }
        
        .history-header h3 {
            color: #fff;
            font-size: 20px;
            letter-spacing: 1px;
        }
        
        .close-history {
            background: none;
            border: none;
            color: #aaa;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
        }
        
        .close-history:hover {
            color: #fff;
        }
        
        .history-day {
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            border: 1px solid #333;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: inset 0 1px 0 rgba(255,255,255,0.05);
        }
        
        .history-day-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .history-day-title {
            font-size: 14px;
            font-weight: bold;
            color: #fff;
            letter-spacing: 1px;
        }
        
        .history-day-score {
            font-size: 12px;
            color: #aaa;
        }
        
        .history-day-bar {
            width: 100%;
            height: 6px;
            background: #333;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .history-day-fill {
            height: 100%;
            background: linear-gradient(90deg, #4a8f4a 0%, #6ab46a 100%);
            transition: width 0.3s ease;
        }
        
        .journal-prompt {
            background: linear-gradient(135deg, #2a1a1a 0%, #3a2a2a 100%);
            border: 1px solid #444;
            border-radius: 8px;
            padding: 18px;
            margin-bottom: 25px;
            box-shadow: inset 0 1px 0 rgba(255,255,255,0.05);
        }
        
        .prompt-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .prompt-icon {
            font-size: 14px;
            color: #888;
            margin-right: 10px;
        }
        
        .prompt-title {
            font-size: 12px;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: bold;
        }
        
        .prompt-text {
            font-size: 14px;
            color: #ddd;
            line-height: 1.5;
            font-style: italic;
            letter-spacing: 0.5px;
        }
        
        .tasks {
            margin-bottom: 30px;
        }
        
        .task-section {
            margin-bottom: 25px;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: bold;
            color: #ffffff;
            margin-bottom: 15px;
            border-bottom: 2px solid #333;
            padding-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 0 1px 0 rgba(0,0,0,0.8);
            position: relative;
        }
        
        .section-title::before {
            content: '⬥';
            position: absolute;
            left: -20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 12px;
            color: #666;
        }
        
        .task-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 15px;
            background: 
                linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            border-radius: 8px;
            border: 1px solid #333;
            transition: all 0.3s ease;
            position: relative;
            box-shadow: 
                inset 0 1px 0 rgba(255,255,255,0.05),
                0 1px 3px rgba(0,0,0,0.5);
        }
        
        .task-item::before {
            content: '';
            position: absolute;
            left: 5px;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 20px;
            background: linear-gradient(to bottom, #333 0%, #555 100%);
            border-radius: 2px;
        }
        
        .task-item:hover {
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            border-color: #555;
            box-shadow: 
                inset 0 1px 0 rgba(255,255,255,0.1),
                0 2px 6px rgba(0,0,0,0.7);
        }
        
        .task-item.completed {
            background: linear-gradient(135deg, #0a2a0a 0%, #1a3a1a 100%);
            border-color: #4a8f4a;
            box-shadow: 
                inset 0 1px 0 rgba(255,255,255,0.1),
                0 0 10px rgba(74, 143, 74, 0.3);
        }
        
        .task-item.completed::before {
            background: linear-gradient(to bottom, #4a8f4a 0%, #6ab46a 100%);
            box-shadow: 0 0 5px rgba(74, 143, 74, 0.5);
        }
        
        .task-item.completed::after {
            content: '✓';
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #4a8f4a;
            font-size: 16px;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(74, 143, 74, 0.5);
        }
        
        .task-checkbox {
            width: 20px;
            height: 20px;
            margin-right: 15px;
            margin-left: 10px;
            cursor: pointer;
            accent-color: #4a8f4a;
            position: relative;
        }
        
        .task-text {
            flex: 1;
            font-size: 14px;
            line-height: 1.4;
            letter-spacing: 0.5px;
        }
        
        .task-item.completed .task-text {
            color: #aaa;
            text-shadow: 0 0 3px rgba(74, 143, 74, 0.3);
        }
        
        .completion-celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .completion-celebration.show {
            display: flex;
            animation: celebrationFadeIn 0.5s ease-out;
        }
        
        .celebration-content {
            text-align: center;
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            padding: 40px;
            border-radius: 15px;
            border: 2px solid #4a8f4a;
            box-shadow: 
                0 0 30px rgba(74, 143, 74, 0.5),
                inset 0 1px 0 rgba(255,255,255,0.1);
        }
        
        .celebration-symbol {
            font-size: 48px;
            color: #4a8f4a;
            margin-bottom: 20px;
            animation: symbolPulse 2s ease-in-out infinite;
        }
        
        .celebration-text {
            font-size: 24px;
            color: #ffffff;
            font-weight: bold;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(255,255,255,0.3);
        }
        
        .celebration-subtext {
            font-size: 14px;
            color: #888;
            letter-spacing: 1px;
            font-style: italic;
        }
        
        .day-complete-state {
            display: none;
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #1a2a1a 0%, #2a3a2a 100%);
            border-radius: 15px;
            border: 2px solid #4a8f4a;
            margin: 20px 0;
            box-shadow: 0 0 20px rgba(74, 143, 74, 0.3);
        }
        
        .day-complete-content {
            color: #ffffff;
        }
        
        .completion-title {
            font-size: 24px;
            font-weight: bold;
            letter-spacing: 2px;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(255,255,255,0.3);
        }
        
        .completion-message {
            font-size: 16px;
            color: #ccc;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }
        
        .completion-subtext {
            font-size: 14px;
            color: #888;
            font-style: italic;
            letter-spacing: 0.5px;
        }
        
        .confirm-dialog {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1001;
            backdrop-filter: blur(10px);
        }
        
        .confirm-dialog.show {
            display: flex;
        }
        
        .confirm-content {
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            padding: 30px;
            border-radius: 15px;
            border: 2px solid #666;
            text-align: center;
            max-width: 300px;
            box-shadow: 0 0 30px rgba(0,0,0,0.8);
        }
        
        .confirm-title {
            color: #fff;
            font-size: 18px;
            margin-bottom: 15px;
            font-weight: bold;
            letter-spacing: 1px;
        }
        
        .confirm-message {
            color: #ccc;
            font-size: 14px;
            margin-bottom: 25px;
            line-height: 1.4;
        }
        
        .confirm-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
        
        .confirm-btn {
            padding: 10px 20px;
            border: 1px solid #444;
            border-radius: 6px;
            background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%);
            color: #fff;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 0.5px;
        }
        
        .confirm-btn.ok {
            background: linear-gradient(135deg, #4a8f4a 0%, #3a7f3a 100%);
            border-color: #4a8f4a;
        }
        
        .confirm-btn.cancel {
            background: linear-gradient(135deg, #8f4a4a 0%, #7f3a3a 100%);
            border-color: #8f4a4a;
        }
        
        .confirm-btn:hover {
            opacity: 0.8;
        }
        
        .reset-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%);
            color: #ffffff;
            border: 1px solid #444;
            border-radius: 8px;
            font-size: 16px;
            font-family: 'Courier New', monospace;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            box-shadow: 
                inset 0 1px 0 rgba(255,255,255,0.1),
                0 2px 4px rgba(0,0,0,0.5);
        }
        
        .reset-btn:hover {
            background: linear-gradient(135deg, #3a3a3a 0%, #2a2a2a 100%);
            border-color: #666;
            box-shadow: 
                inset 0 1px 0 rgba(255,255,255,0.2),
                0 4px 8px rgba(0,0,0,0.7);
        }
        
        .footer {
            text-align: center;
            margin-top: 20px;
            color: #666;
            font-size: 12px;
            font-style: italic;
            letter-spacing: 1px;
        }
        
        .footer::before {
            content: '◊ ◊ ◊';
            display: block;
            margin-bottom: 10px;
            opacity: 0.5;
        }
        
        @keyframes celebrationFadeIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }
        
        @keyframes symbolPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">75 HARD</h1>
            <p class="subtitle">FOR CREATIVITY</p>
        </div>
        
        <div class="day-counter">
            <div class="day-number">DAY <span id="dayNumber">1</span> / 75</div>
            <div class="overall-progress-bar">
                <div class="overall-progress-fill" id="overallProgressFill"></div>
            </div>
            <div class="overall-progress-text" id="overallProgressText">1% Complete</div>
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-text" id="progressText">0/7 tasks completed</div>
        
        <div class="history-toggle">
            <button class="history-btn" id="historyBtn">View Progress History</button>
        </div>
        
        <div class="progress-history" id="progressHistory">
            <div class="history-header">
                <h3>Your Journey</h3>
                <button class="close-history" id="closeHistoryBtn">×</button>
            </div>
            <div class="history-content" id="historyContent">
                <!-- History will be populated here -->
            </div>
        </div>
        
        <div class="journal-prompt" id="journalPrompt">
            <div class="prompt-header">
                <span class="prompt-icon">⬥</span>
                <span class="prompt-title">Today's Journal Prompt</span>
            </div>
            <div class="prompt-text" id="promptText">What creative discovery surprised you today?</div>
        </div>
        
        <div class="completion-celebration" id="completionCelebration">
            <div class="celebration-content">
                <div class="celebration-symbol">✦</div>
                <div class="celebration-text">INITIATION COMPLETE</div>
                <div class="celebration-subtext">You have earned today's mark</div>
            </div>
        </div>
        
        <div class="confirm-dialog" id="confirmDialog">
            <div class="confirm-content">
                <div class="confirm-title">CONFIRM RESET</div>
                <div class="confirm-message">Are you sure you want to reset today's progress?</div>
                <div class="confirm-buttons">
                    <button class="confirm-btn ok" id="confirmOk">OK</button>
                    <button class="confirm-btn cancel" id="confirmCancel">Cancel</button>
                </div>
            </div>
        </div>
        
        <div class="tasks">
            <div class="task-section">
                <h3 class="section-title">DAILY COMMITMENTS</h3>
                
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" id="task1">
                    <label for="task1" class="task-text">30-60 min creative consumption (outside your medium)</label>
                </div>
                
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" id="task2">
                    <label for="task2" class="task-text">30 min structured learning (no doomscrolling)</label>
                </div>
                
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" id="task3">
                    <label for="task3" class="task-text">Make something daily (even if tiny)</label>
                </div>
                
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" id="task4">
                    <label for="task4" class="task-text">Move your body (any form of exercise)</label>
                </div>
                
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" id="task5">
                    <label for="task5" class="task-text">Handwrite journal response</label>
                </div>
                
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" id="task6">
                    <label for="task6" class="task-text">Document and share progress</label>
                </div>
            </div>
            
            <div class="task-section">
                <h3 class="section-title">WEEKLY COMMITMENT</h3>
                
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" id="task7">
                    <label for="task7" class="task-text">Artist date (solo creative exploration)</label>
                </div>
            </div>
        </div>
        
        <button class="reset-btn" id="mainResetBtn">Reset Day</button>
        
        <div class="footer">
            <p>Transform your creativity • One day at a time</p>
            <p style="margin-top: 10px; font-size: 10px; color: #444;">Created by Selma Penna Utonih</p>
        </div>
    </div>

    <script>
        // 75 unique journal prompts inspired by The Artist's Way and creativity practices
        const journalPrompts = [
            "What creative discovery surprised you today?",
            "When did you feel most creatively alive this week?",
            "What creative dream have you been postponing and why?",
            "Describe a moment when you felt completely absorbed in creating.",
            "What creative risk are you afraid to take?",
            "If you could create anything without fear of judgment, what would it be?",
            "What creative habit would transform your practice?",
            "Describe your ideal creative sanctuary.",
            "What creative voice inside you needs to be heard?",
            "When do you feel most connected to your creative source?",
            "What creative block is actually protecting you from something?",
            "If your creativity had a color, what would it be and why?",
            "What creative compliment do you need to hear today?",
            "Describe a creator whose work moves you deeply.",
            "What creative tradition from your childhood still influences you?",
            "If you could collaborate with any artist, living or dead, who would it be?",
            "What creative mistake taught you the most?",
            "When did you last feel creatively fearless?",
            "What creative skill do you most want to develop?",
            "Describe the creative energy you felt today.",
            "What creative boundary do you need to set?",
            "If your creativity were a weather pattern, what would it be?",
            "What creative project keeps calling to you?",
            "Describe a creative breakthrough you've experienced.",
            "What creative ritual grounds you?",
            "If you could give your younger creative self advice, what would it be?",
            "What creative wound needs healing?",
            "Describe your creative process in three words.",
            "What creative joy did you experience today?",
            "If creativity were a person, what would they tell you?",
            "What creative pattern in your life needs changing?",
            "Describe a creative moment that brought you peace.",
            "What creative courage do you need to summon?",
            "If you could create a creative commandment, what would it be?",
            "What creative intuition are you ignoring?",
            "Describe your creative relationship with time.",
            "What creative permission do you need to give yourself?",
            "If your creativity had a soundtrack, what would be playing?",
            "What creative ancestor inspires your work?",
            "Describe a creative challenge that shaped you.",
            "What creative gift do you bring to the world?",
            "If you could redesign your creative life, what would change?",
            "What creative truth are you avoiding?",
            "Describe the creative energy of your environment.",
            "What creative promise do you need to keep to yourself?",
            "If creativity were a landscape, where would you be?",
            "What creative question haunts you in the best way?",
            "Describe your creative relationship with failure.",
            "What creative adventure calls to you?",
            "If you could time travel to any creative era, when would you go?",
            "What creative legacy do you want to leave?",
            "Describe a creative moment that changed everything.",
            "What creative prayer or intention do you need?",
            "If your creativity were an element, what would it be?",
            "What creative story do you need to tell?",
            "Describe your creative relationship with solitude.",
            "What creative boundary have you outgrown?",
            "If you could create a creative ritual, what would it involve?",
            "What creative magic happened today?",
            "Describe your creative relationship with community.",
            "What creative fear is actually excitement in disguise?",
            "If creativity were a season, which one matches you now?",
            "What creative teacher appeared in your life today?",
            "Describe a creative moment of pure flow.",
            "What creative darkness needs your light?",
            "If you could create a creative manifesto, what would it say?",
            "What creative healing do you need?",
            "Describe your creative relationship with play.",
            "What creative truth wants to emerge through you?",
            "If creativity were a conversation, what would it be saying?",
            "What creative seed are you planting today?",
            "Describe your creative relationship with the unknown.",
            "What creative fire burns within you?",
            "If you could create without any limits, what would emerge?",
            "What creative wisdom have you gained on this journey?",
            "Describe the creative transformation you've experienced.",
            "What creative celebration do you need?"
        ];
        
        // Show custom confirmation dialog
        function showConfirmDialog(callback) {
            const dialog = document.getElementById('confirmDialog');
            dialog.classList.add('show');
            
            const okBtn = document.getElementById('confirmOk');
            const cancelBtn = document.getElementById('confirmCancel');
            
            okBtn.onclick = function() {
                dialog.classList.remove('show');
                callback(true);
            };
            
            cancelBtn.onclick = function() {
                dialog.classList.remove('show');
                callback(false);
            };
        }
        
        // Update journal prompt based on day
        function updateJournalPrompt() {
            const currentDay = parseInt(document.getElementById('dayNumber').textContent);
            const promptIndex = (currentDay - 1) % journalPrompts.length;
            document.getElementById('promptText').textContent = journalPrompts[promptIndex];
        }
        
        // Show completion celebration
        function showCompletionCelebration() {
            const celebration = document.getElementById('completionCelebration');
            celebration.classList.add('show');
            
            setTimeout(() => {
                celebration.classList.remove('show');
            }, 3000);
        }
        
        // Toggle progress history
        function toggleHistory() {
            const history = document.getElementById('progressHistory');
            if (history.classList.contains('show')) {
                history.classList.remove('show');
            } else {
                loadProgressHistory();
                history.classList.add('show');
            }
        }
        
        // Load progress history
        function loadProgressHistory() {
            const historyContent = document.getElementById('historyContent');
            const currentDay = parseInt(document.getElementById('dayNumber').textContent);
            let historyHTML = '';
            
            for (let day = Math.max(1, currentDay - 6); day <= currentDay; day++) {
                const dayData = localStorage.getItem(`day${day}History`);
                let completedTasks = 0;
                
                if (dayData) {
                    const tasks = JSON.parse(dayData);
                    completedTasks = tasks.filter(task => task).length;
                }
                
                const percentage = (completedTasks / 7) * 100;
                const status = completedTasks === 7 ? 'Complete' : `${completedTasks}/7 tasks`;
                
                historyHTML += `
                    <div class="history-day">
                        <div class="history-day-header">
                            <div class="history-day-title">Day ${day}</div>
                            <div class="history-day-score">${status}</div>
                        </div>
                        <div class="history-day-bar">
                            <div class="history-day-fill" style="width: ${percentage}%"></div>
                        </div>
                    </div>
                `;
            }
            
            if (historyHTML === '') {
                historyHTML = '<div style="text-align: center; color: #666; padding: 20px;">No history yet. Start completing tasks to see your progress!</div>';
            }
            
            historyContent.innerHTML = historyHTML;
        }
        
        // Save daily progress to history
        function saveDailyProgress() {
            const currentDay = parseInt(document.getElementById('dayNumber').textContent);
            const tasks = [];
            
            for (let i = 1; i <= 7; i++) {
                const checkbox = document.getElementById(`task${i}`);
                if (checkbox) {
                    tasks.push(checkbox.checked);
                }
            }
            
            localStorage.setItem(`day${currentDay}History`, JSON.stringify(tasks));
        }
        
        // Show day complete state
        function showDayCompleteState() {
            const today = new Date().toDateString();
            localStorage.setItem('dayCompleted' + today, 'true');
            
            // Hide the task list and show completion message
            document.querySelector('.tasks').style.display = 'none';
            document.querySelector('.journal-prompt').style.display = 'none';
            document.querySelector('.history-toggle').style.display = 'none';
            
            // Show completion state
            let completionState = document.getElementById('dayCompleteState');
            if (!completionState) {
                completionState = document.createElement('div');
                completionState.id = 'dayCompleteState';
                completionState.className = 'day-complete-state';
                document.querySelector('.container').appendChild(completionState);
            }
            
            completionState.innerHTML = `
                <div class="day-complete-content">
                    <div class="completion-symbol">✦</div>
                    <div class="completion-title">CREATIVE GOALS ACHIEVED</div>
                    <div class="completion-message">You have completed all trials for Day ${document.getElementById('dayNumber').textContent}</div>
                    <div class="completion-subtext">Your creative progress continues at midnight</div>
                    <button class="reset-btn" style="margin-top: 20px;">Reset Day (Optional)</button>
                </div>
            `;
            
            completionState.style.display = 'block';
            
            // Add event listener to the reset button using event delegation
            const resetBtn = completionState.querySelector('.reset-btn');
            if (resetBtn) {
                resetBtn.addEventListener('click', function() {
                    console.log('Completion reset button clicked');
                    showConfirmDialog(function(confirmed) {
                        console.log('Confirm result:', confirmed);
                        if (confirmed) {
                            resetTasks();
                        }
                    });
                });
            }
        }
        
        // Check if day is already completed
        function checkDayCompleteState() {
            const today = new Date().toDateString();
            const dayCompleted = localStorage.getItem('dayCompleted' + today);
            
            if (dayCompleted === 'true') {
                showDayCompleteState();
            }
        }
        
        // Update overall progress
        function updateOverallProgress() {
            const currentDay = parseInt(document.getElementById('dayNumber').textContent);
            const percentage = Math.round((currentDay / 75) * 100);
            
            document.getElementById('overallProgressFill').style.width = percentage + '%';
            document.getElementById('overallProgressText').textContent = `${percentage}% Complete`;
        }
        
        // Update progress bar
        function updateProgress() {
            const checkboxes = document.querySelectorAll('.task-checkbox');
            let completed = 0;
            
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    completed++;
                }
            });
            
            const percentage = (completed / 7) * 100;
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = `${completed}/7 tasks completed`;
            
            // Save progress to history
            saveDailyProgress();
            
            // Show celebration and day complete state if all tasks completed
            if (completed === 7) {
                const today = new Date().toDateString();
                const celebrationShown = localStorage.getItem('celebrationShown' + today);
                if (!celebrationShown) {
                    setTimeout(() => {
                        showCompletionCelebration();
                        localStorage.setItem('celebrationShown' + today, 'true');
                        showDayCompleteState();
                    }, 500);
                } else {
                    showDayCompleteState();
                }
            }
        }
        
        // Save progress
        function saveProgress() {
            for (let i = 1; i <= 7; i++) {
                const checkbox = document.getElementById(`task${i}`);
                if (checkbox) {
                    localStorage.setItem(`creativity75Task${i}`, checkbox.checked.toString());
                }
            }
        }
        
        // Reset tasks
        function resetTasks() {
            console.log('resetTasks function called'); // Debug log
            
            document.querySelectorAll('.task-checkbox').forEach(checkbox => {
                checkbox.checked = false;
                checkbox.parentElement.classList.remove('completed');
            });
            
            for (let i = 1; i <= 7; i++) {
                localStorage.removeItem(`creativity75Task${i}`);
            }
            
            // Clear day completion state
            const today = new Date().toDateString();
            localStorage.removeItem('dayCompleted' + today);
            localStorage.removeItem('celebrationShown' + today);
            
            // Show tasks again
            const tasksElement = document.querySelector('.tasks');
            const journalElement = document.querySelector('.journal-prompt');
            const historyElement = document.querySelector('.history-toggle');
            
            if (tasksElement) tasksElement.style.display = 'block';
            if (journalElement) journalElement.style.display = 'block';
            if (historyElement) historyElement.style.display = 'block';
            
            // Hide completion state
            const completionState = document.getElementById('dayCompleteState');
            if (completionState) {
                completionState.style.display = 'none';
            }
            
            console.log('Tasks should be visible now'); // Debug log
            updateProgress();
        }
        
        // Reset day
        function resetDay() {
            if (confirm('Are you sure you want to reset today\'s progress?')) {
                resetTasks();
            }
        }
        
        // Load saved data
        function loadProgress() {
            const savedDay = localStorage.getItem('creativity75Day') || '1';
            const savedDate = localStorage.getItem('creativity75Date') || new Date().toDateString();
            const today = new Date().toDateString();
            
            document.getElementById('dayNumber').textContent = savedDay;
            
            // Reset if new day
            if (savedDate !== today) {
                resetTasks();
                localStorage.setItem('creativity75Date', today);
                // Clear day completion state for new day
                localStorage.removeItem('dayCompleted' + today);
                localStorage.removeItem('celebrationShown' + today);
                // Increment day if not manually reset
                if (savedDate !== null) {
                    const newDay = Math.min(parseInt(savedDay) + 1, 75);
                    localStorage.setItem('creativity75Day', newDay.toString());
                    document.getElementById('dayNumber').textContent = newDay;
                }
            } else {
                // Load saved checkboxes
                for (let i = 1; i <= 7; i++) {
                    const saved = localStorage.getItem(`creativity75Task${i}`);
                    if (saved === 'true') {
                        const checkbox = document.getElementById(`task${i}`);
                        if (checkbox) {
                            checkbox.checked = true;
                            checkbox.parentElement.classList.add('completed');
                        }
                    }
                }
            }
            
            updateProgress();
            updateOverallProgress();
            updateJournalPrompt();
            checkDayCompleteState();
        }
        
        // Initialize event listeners
        function initializeEventListeners() {
            // Add event listeners for checkboxes
            const checkboxes = document.querySelectorAll('.task-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    console.log('Checkbox changed:', this.id, this.checked);
                    if (this.checked) {
                        this.parentElement.classList.add('completed');
                    } else {
                        this.parentElement.classList.remove('completed');
                    }
                    saveProgress();
                    updateProgress(); // This will immediately update the counter
                });
            });
            
            // Add main reset button event listener
            const mainResetBtn = document.getElementById('mainResetBtn');
            if (mainResetBtn) {
                mainResetBtn.addEventListener('click', function() {
                    console.log('Main reset button clicked');
                    showConfirmDialog(function(confirmed) {
                        console.log('Confirm result:', confirmed);
                        if (confirmed) {
                            resetTasks();
                        }
                    });
                });
            }
            
            // Add history button event listener
            const historyBtn = document.getElementById('historyBtn');
            if (historyBtn) {
                historyBtn.addEventListener('click', function() {
                    console.log('History button clicked');
                    toggleHistory();
                });
            }
            
            // Add close history button event listener
            const closeHistoryBtn = document.getElementById('closeHistoryBtn');
            if (closeHistoryBtn) {
                closeHistoryBtn.addEventListener('click', function() {
                    toggleHistory();
                });
            }
            
            // Add click event for celebration overlay
            const celebration = document.getElementById('completionCelebration');
            if (celebration) {
                celebration.addEventListener('click', function() {
                    this.classList.remove('show');
                });
            }
        }
        
        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadProgress();
            initializeEventListeners();
        });
    </script>
</body>
</html>
